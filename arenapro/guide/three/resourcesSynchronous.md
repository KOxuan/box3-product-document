# Arena资源同步到项目

在使用神岛的部分API（例如播放背景音乐、创建实体等）时，需要填写资源路径。为了确保资源路径的正确性并避免错误，插件提供了资源同步功能。

**目前支持同步的资源类型**：模型、音频、图片

**快捷键**：`Alt+Y`

## 一键同步资源到本地

在使用一键同步功能前，请确保成功链接地图。你会看到一个`一键同步地图资源`按钮，点击它即可将地图资源一键同步到本地。

![一键同步按钮示例](/QQ20241222-153830.png)

同步过程可能需要一些时间，具体时间取决于资源数量和大小。

### 同步步骤

1. **同步所有模型数据**
2. **同步所有音频数据**
3. **同步所有图片数据**

![同步进度示例](/QQ20241222-154927.png)

同步完成后，将在`server`和`client`文件夹的`types`目录下生成一个名为`GameAssets.d.ts`的文件。

![生成的文件示例](/QQ20241222-155644.png)

该文件将记录当前地图的所有资源路径。如果你添加了新资源，只需再次点击一键同步，资源就会自动更新到本地。

此外，还会生成三个`type`记录，分别用于地图音频资源、地图图片资源和地图模型资源：

```typescript
/**
 * 地图音频资源类型
 */
type GameAudioAssets = '';

/**
 * 地图图片资源类型
 */
type GamePictureAssets = '';

/**
 * 地图模型资源类型
 */
type GameModelAssets = '';
```

你可以直接在脚本中使用这些类型进行约束，例如：

![脚本中使用类型约束示例](/QQ20241222-160335.png)

这样做可以实时检测资源是否存在，并在资源不存在时给出提示。

同时，你还可以根据程序的提示快速选择资源。因此，建议经常进行资源同步，以避免误报。

## 资源代码片段

在同步资源的同时，插件还会在`.vscode`文件夹中生成一个名为`dao3-GameAssets.code-snippets`的文件，用于存储所有资源，方便快速选择。

要快速调用这些资源代码片段，只需在编辑器中输入`#audio`、`#picture`或`#mesh`即可。

![快速调用资源代码片段示例](/QQ20241222-160744.png)