# 📡 通讯类型约定

在构建客户端与服务端交互的系统中，数据传输的规范与约定至关重要。为确保双方能够准确无误地理解并处理传递的数据，我们需要制定一套通讯协议和数据接口标准。当客户端和服务端的代码各自独立开发、互不直接访问时，共享脚本便成为了两者间数据传输的桥梁。

## 🔍 数据接口定义

### 📂 共享文件夹结构

为了从服务端向客户端传递用户基本数据，我们在项目中设立一个专门的`shares`文件夹，用于存放共享脚本和数据接口定义。这些共享脚本使得服务端和客户端都能遵循相同的规则来解析和处理数据。

<div style="text-align: center; margin: 20px 0;">
  <img src="/QQ20241129-141305.png" alt="共享脚本示意图" width="550" />
  <p style="text-align: center; font-style: italic; margin-top: 10px;">图1: 共享脚本文件结构示意图</p>
</div>

### 🛠️ 接口实现方式

| 步骤                | 说明                                     |
| ------------------- | ---------------------------------------- |
| **1. 创建共享文件** | 在`shares`文件夹中创建接口定义文件       |
| **2. 定义数据结构** | 使用 TypeScript 接口或类型定义数据格式   |
| **3. 导出接口**     | 确保接口可被客户端和服务端导入使用       |
| **4. 应用接口**     | 在客户端和服务端代码中引用相同的接口定义 |

:::tip
**💡 最佳实践**：为确保类型一致性，建议使用 TypeScript 的接口（interface）或类型别名（type）来定义数据结构，这样可以获得 IDE 的智能提示和类型检查支持。
:::

## 📊 实现效果展示

### 🖥️ 服务端实现效果

<div style="text-align: center; margin: 20px 0; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
  <img src="/QQ20241129-141021.png" alt="服务端效果图" width="600" />
  <p style="text-align: center; font-style: italic; margin-top: 10px;">图2: 服务端使用共享接口示例</p>
</div>

### 📱 客户端实现效果

<div style="text-align: center; margin: 20px 0; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
  <img src="/QQ20241129-141215.png" alt="客户端效果图" width="600" />
  <p style="text-align: center; font-style: italic; margin-top: 10px;">图3: 客户端使用共享接口示例</p>
</div>

## 🌟 优势与效益

| 优势         | 说明                                         |
| ------------ | -------------------------------------------- |
| **类型安全** | 通过 TypeScript 类型系统确保数据格式一致性   |
| **开发效率** | 减少重复定义，简化开发流程                   |
| **错误减少** | 在编译时发现类型不匹配问题，减少运行时错误   |
| **易于维护** | 接口变更只需在一处修改，自动反映到所有使用处 |

## 📝 总结

通过在共享文件夹中定义数据接口，我们实现了以下目标：

- ✅ 确保服务端和客户端之间数据传输的一致性
- ✅ 提高代码的可维护性和可扩展性
- ✅ 减少因数据格式不匹配导致的错误
- ✅ 简化开发流程，提高团队协作效率

这种通讯约定方式为客户端与服务端之间的无缝交互奠定了坚实基础，是构建稳健应用的关键环节。
