# 跨项目引用

在开发神岛地图的进程中，为了提高代码复用率和开发效率，不同扩展地图之间可能会共享一些代码，特别是工具类代码。例如，项目A可能会引用项目B的代码，实现功能的复用。

## 如何实现跨项目引用？

### 将项目B的文件夹引入工作区

为了方便开发，我们可以在项目中引入其他项目的文件夹，从而实现在一个界面上同时操作两个项目的模式。AP插件支持这种多项目开发模式，它能够自动识别当前打开的项目文件，从而决定构建和资源管理的目标。

#### 导入项目B文件夹到工作区

在资源管理器中，右键点击空白处，选择`增加文件夹到工作区（Add Folder to Workspace...）`选项。

![增加文件夹到工作区](/QQ20241130-105649.png)

接着，选择项目B的文件夹并点击确定。

![选择项目B文件夹](/QQ20241130-105935.png)

现在，我们已经创建了一个包含两个根文件夹的工作区，分别代表两个神岛代码项目。

### 引用项目代码

假设我们现在想在`bottleMan`项目中引用`Backroom`项目中的`sum`函数。

#### 配置`tsconfig.json`

首先，需要在`bottleMan`项目下的服务端或客户端的`tsconfig.json`文件中，将`rootDir`属性设置为`../../`，以便能够引用到`Backroom`项目下的文件。

![配置`tsconfig.json`](/QQ20241130-110625.png)

#### 引用文件

然后，在`bottleMan`项目下的服务端`App.ts`文件中，直接引用`Backroom`项目下的`utils.ts`文件。

![引用文件](/QQ20241130-110733.png)

#### 构建并验证

最后，通过构建项目，在神岛编辑器中验证是否能够正常使用引用的代码。

![验证引用效果](/QQ20241130-111024.png)

通过以上步骤，我们成功实现了在神岛地图开发中的跨项目代码引用，提高了开发效率和代码复用率。