# Debug模式详解

在开发游戏或应用时，Debug模式是一个非常重要的工具，它能够帮助创作者快速定位并解决问题。

- 关闭Debug模式时，生成的代码是经过`压缩和混淆`的。


![](/QQ20241202-222614.png)

- 开启Debug模式后，生成的代码是`未压缩和混淆`的。

![](/QQ20241202-222905.png)


## Debug模式的作用

Debug模式主要用于`开发阶段`，它允许创作者在神岛环境/VSCode中直接进行调试。与生产环境相比，Debug模式生成的代码是`未经压缩和混淆`的，这使得代码更易于阅读和理解。此外，Debug模式还提供了更详细的错误信息和堆栈跟踪，有助于创作者快速定位问题所在。

然而，需要注意的是，由于Debug模式生成的代码体积较大且未经优化，因此在生产环境中使用可能会带来性能上的影响及潜在的安全风险。因此，我们强烈建议仅在开发阶段启用Debug模式，并在发布前切换到生产模式以确保应用的最佳性能和安全性。

## 开启Debug模式的步骤

### 第一步：修改`dao3.config.json`文件

在项目中，找到并打开`dao3.config.json`文件。这个文件包含了神岛项目的各种配置信息。

1. 打开`dao3.config.json`文件。
2. 找到与当前端（如客户端或服务端）相关的配置部分。
3. 将`developmentAll`或`development`属性的值改为`true`，以启用Debug模式。

```json
{
    "ArenaPro": {
        "file": {
            "typescript": {
                "server": {
                    "development": true // 服务端开启debug代码
                },
                "client": {
                    "development": true // 服务端开启debug代码
                },
                "developmentAll": null, // 开启服务端和客户端debug代码，优先级最高，null表示忽略该属性。
            }
        },
    }
}
```

### 第二步：构建项目并查看生成的JS文件

保存`dao3.config.json`文件后，需要重新构建项目以使配置生效。

1. 构建完成后，进入`dist`文件夹中查看生成的捆绑JS文件。
2. 你会发现生成的JS文件是未经压缩和混淆的，代码易于阅读。

### 第三步：在地图中调试代码

启用Debug模式后，你可以在神岛环境/VSCode中直接运行和调试代码。

1. 打开神岛创作端并加载你的项目。
2. 运行地图以查看效果。
3. 如果代码中存在错误或问题，创作端将显示错误信息和堆栈跟踪。
4. 点击错误信息中的链接或文件名，可以跳转到出错的代码行，并进行调试和修改。

## 注意事项

- 在Debug模式下，直接修改生成的JS文件并不是一个好的做法。因为JS文件是由TS编译生成的，直接修改JS文件可能会导致代码不一致和难以维护。
- 如果你使用的是TypeScript（TS），请确保在修改源代码后重新构建项目以使更改生效。
- 在发布前，请确保将`development`属性设置为`false`以切换到生产模式，并重新构建项目以生成压缩和混淆后的代码。
