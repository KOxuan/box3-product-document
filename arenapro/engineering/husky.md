# Husky 用法

![](/QQ20250115-164245.png)

在项目中，找到`.husky`文件夹，通过编辑此文件夹中的文件，你可以自定义`Git 操作前`的钩子规则，确保在代码提交到仓库前自动执行一系列预设的操作。

:::warning 小提示
如果创作者是首次拉取 AP 项目，可能会发现项目中的 `.husky` 文件夹下缺少必要的`_`文件夹，导致 Git 钩子无法生效。若该文件夹为空，请在项目的根目录下运行 `npm run prepare` 命令来初始化 Husky。
:::

## 与 Lint-Staged 的结合

在项目中，找到`.lintstagedrc`文件，这里可以编辑 Lint-Staged 执行的规则。

当与`Lint-Staged`结合使用时，Husky 能够在 Git 提交前对`暂存区`中的文件进行校验。经过配置，会使用`ESlint + Prettier`对代码进行检查、尝试自动修复问题以及格式化代码，从而确保代码质量。

![](/QQ20250115-165106.png)

👇

如果 Ts 代码没有错误，Git 提交操作将会顺利完成。

![](/QQ20250115-164848.png)

相反，如果 Ts 代码中存在错误，Git 提交将会被阻止。

![](/QQ20250115-181214.png)

此外，Husky 还支持多种 Git 钩子，包括但不限于`Git 提交`、`Git 推送`、`Git 拉取`、`Git 重置`、`Git 检出`、`Git 合并`以及`Git 标签`等操作。你可以根据项目需求，在这些钩子中设置自动运行的脚本，以实现更加灵活和定制化的代码管理和质量控制流程。

通过充分利用 Husky 的功能，你可以显著提升团队协作效率，确保代码库的稳定性和一致性。
