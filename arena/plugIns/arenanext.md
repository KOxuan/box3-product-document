# ArenaNext - 下一代神岛编辑器

ArenaNext 是神岛 Arena 编辑器的功能抢先预览版插件，让用户提前体验下一代编辑器的创新特性。经过用户验证和优化后的功能将会正式内置到未来的编辑器版本中。

## 插件安装

本插件基于 篡改猴，需要先安装篡改猴插件管理器 [tampermonkey](./tampermonkey)。

安装后，再安装 ArenaNext 插件：[https://static.pgaot.com/Assets/js/arenanext.user.js](https://static.pgaot.com/Assets/js/arenanext.user.js)

进入神岛 Arena 编辑器，享受智能编码的乐趣啦！

## 核心功能

:::warning 已知问题提示

语法检查对客户端脚本部分代码（如导入文件代码）产生误判，显示不实际存在的错误。

如遇此情况，请在编辑器设置中暂时关闭语法检查功能。

最终以引擎能运行为准。
:::

### 🐛 代码错误处理与修复

![](/QQ20250509-175005.png)

- 🔍 **智能错误高亮显示**：在代码行尾直接显示错误信息
- 📊 **错误列表面板**：在编辑器底部展示代码错误、警告和提示
- 🔧 **一键修复**：点击"吉 PT 一键修复"按钮自动分析并修复所有代码问题
- 💡 **错误解释**：点击单个错误的"解释报错"按钮获取详细错误解释和修复建议

![](/QQ20250509-175311.png)

- 🤖 **AI 错误解释助手**：在控制台错误旁显示 AI 按钮，点击后智能分析错误并提供修复方案

### 📊 代码分析与优化

![](/QQ20250509-175103.png)

- 🔎 **代码透镜(CodeLens)**：在函数和类定义上方提供智能操作菜单
- 📋 **代码复制**：通过代码透镜菜单一键复制整个函数或类的代码

![](/QQ20250509-175127.png)

- 👁️ **Peek 定义视图**：点击引用可预览代码定义，无需跳转即可查看引用代码
- 📝 **上下文菜单**：右键点击编辑器访问丰富的代码分析功能：
  - ✅ 纠正代码错误
  - 🔄 长函数拆分
  - ⚙️ 优化重构代码
  - 📚 详细解释代码
  - 💬 注释生成
  - 📘 API 详细解释和示例

### 🎨 编辑器增强

![](/QQ20250509-175654.png)

- 💾 **跨文件提示**：跨文件检查，提高查看效率
- ⚡ **JavaScript/TypeScript 支持**：提供高级类型检查和语法分析
- ⚙️ **代码严格度设置**：可配置的 JavaScript/TypeScript 验证选项，支持本地保存配置
- 👁️ **代码引用查看**：只读模式查看代码定义，提高代码浏览效率
- 🎭 **语法高亮优化**：精确匹配 VS Code 的语法配色
- 🔠 **智能括号引导线**：点击代码时显示不同颜色的垂直引导线

![](/QQ20250509-175849.png)

- 🎨 **颜色可视化**：为 GameRGBColor、GameRGBAColor 和 Vec3.create 提供实时颜色预览
- 💡 **代码提示优化**：自动补全提示优化，提高代码编写效率

### 🖌 UI 增强功能

- 🚦 **错误类型区分**：通过不同的颜色和图标直观区分错误、警告、注意和信息
- 🔍 **错误列表过滤**：通过类型筛选器快速聚焦于特定类型的问题
- ↕️ **可调整大小的面板**：拖动调整错误列表高度，保存用户首选项
- 📍 **智能定位**：自动适应调试面板位置，确保最佳界面布局
- 🧹 **控制台清理**：一键清空控制台日志，提高调试效率

### 💻 编辑体验增强

- 🔍 **自动代码选择**：点击错误项自动选择相关代码，提高工作效率
- ✨ **自动格式化**：回车/粘贴/保存时自动格式化代码，实时保持代码整洁
- ⌨️ **快捷键支持**：
  - Ctrl+S：格式化当前脚本文件
  - Ctrl+点击代码：打开定义
  - F5：运行地图
  - Ctrl+鼠标滚轮：代码区缩放
