<!--    答题卡 demo版，以Kimi AI生成  -->
<!DOCTYPE html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>答题卡</title>
<style>
  body {
    font-family: Arial, sans-serif;
  }
  答题卡 {
    border: 2px solid #000;
    border-radius: 8px;
    padding: 20px;
    margin: 20px;
    background-color: #f9f9f0;
  }
  .title {
    text-align: center;
    font-size: 24px;
    margin-bottom: 20px;
  }
  .question-container {
    margin-bottom: 30px;
  }
  .question {
    margin-bottom: 10px;
  }
  .options {
    margin-bottom: 20px;
  }
  .option {
    margin-right: 10px;
  }
  .result {
    text-align: center;
    margin-top: 20px;
    font-size: 20px;
    color: #fff;
    display: none;
  }
  .correct {
    background-color: #4CAF50;
  }
  .incorrect {
    background-color: #f44336;
  }
  .analyze-btn {
    display: none;
    width: 100px;
    margin: 20px auto;
    padding: 10px;
    cursor: pointer;
  }
  .analysis {
    text-align: center;
    display: none;
    margin-top: 10px;
  }
  .disabled-option {
    opacity: 0.5;
    cursor: not-allowed;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>

<div class="答题卡">
  <div class="title">答题卡</div>
  
  <div id="questions"></div>
  
  <script>
    const questions = [
      {
        id: 1,
        question: 'a=2,b=3,逻辑表达式 ` ((a+b/3) == 3 || !(a == b) && (a < b))`的值是？',
        options: ['True', 'Flase'],
        correctAnswer: '`True`',
        analysis: `解析： 小朋友， 在逻辑表达式中，优先级 算术运算>比较运算>逻辑运算。我们按照运算的优先级，一步一步地解析这个逻辑表达式吧！
        > 先计算 算数表达式
> > \`(a+b/3)\`
> > > 先计算\`/\`,再计算\`+\`  
> > > a + b/3 = 2 + 3/3 = 2 + 1 = 3 
> 
> 后 比较 ‌关系表达式 
> > \`(a+b/3) == 3\` 
> > > ~ \`true\` 
> 
> > (a == b)
> > >~ \`true\`
> 
> > (a <> b) 
> > >~ \`true\` 
>
> 最后 分析 逻辑表达式 ,其顺序为 \`!\` > \`&&\` > \`||\`        
> 
|  | | |
|:------:|:----------------------------|:---------|
|1|\`!(a == b)\`|!false = true
|2|\`!(a == b) && (a < b)\`|true && true = true
|3|\`((a + b/3) == 3 丨丨 !(a == b) && (a < b))\`|true丨丨 true = true|

综上所述，逻辑表达式 \` ((a+b/3) == 3 || !(a == b) && (a < b))\` 的值是 \`true\``
      },
      // 更多题目可以在这里添加
    ];

    const questionsContainer = document.getElementById('questions');

    questions.forEach(question => {
      const questionDiv = document.createElement('div');
      questionDiv.className = 'question-container';

      questionDiv.innerHTML = `
        <div class="question">${marked.parse(question.question)}</div>
        <div class="options">
          ${question.options.map(option => `<input type="radio" class="option" name="q${question.id}" value="${option}">${option}`).join('')}
        </div>
        <div class="result correct">答对了！</div>
        <div class="result incorrect">答错了！</div>
        <button class="analyze-btn">参看答案简析</button>
        <div class="analysis" style="display:none;">${marked.parse(question.analysis)}</div>
      `;

      questionsContainer.appendChild(questionDiv);

      const options = questionDiv.querySelectorAll(`[name="q${question.id}"]`);
      const resultCorrect = questionDiv.querySelector('.result.correct');
      const resultIncorrect = questionDiv.querySelector('.result.incorrect');
      const analyzeBtn = questionDiv.querySelector('.analyze-btn');
      const analysisDiv = questionDiv.querySelector('.analysis');

      let answered = false;

      options.forEach(option => {
        option.addEventListener('change', function() {
          if (answered) return;
          answered = true;
          options.forEach(o => o.disabled = true);
          if (option.value === question.correctAnswer) {
            resultCorrect.style.display = 'block';
            analyzeBtn.style.display = 'block';
          } else {
            resultIncorrect.style.display = 'block';
            analysisDiv.style.display = 'block';
            analyzeBtn.style.display = 'none'; // Hide the button after showing the analysis
          }
        });
      });

      analyzeBtn.addEventListener('click', function() {
        analysisDiv.style.display = 'block';
        analyzeBtn.style.display = 'none'; // Hide the button after showing the analysis
      });
    });
  </script>
</div>

</body>
</html>